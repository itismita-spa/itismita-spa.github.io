<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Itismita Spa</title>
<style>
body {margin:0; font-family:'Segoe UI',sans-serif; background:#fafafa; color:#333;}
header {background:#7c3aed; color:white; padding:20px; text-align:center;}
header h1 {margin:0; font-size:2rem;}
header p {margin:5px 0 0;}
.services {display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:20px; padding:30px;}
.service-card {background:white; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1); display:flex; flex-direction:column; overflow:hidden;}
.service-card img {width:100%; height:180px; object-fit:cover;}
.service-info {padding:15px; flex:1; display:flex; flex-direction:column; justify-content:space-between;}
.service-info h3 {margin:0 0 10px; color:#4c1d95;}
.service-info p {margin:5px 0; font-size:0.95rem;}
.price {font-weight:bold; margin:8px 0; color:#10b981;}
.book-btn {background:#7c3aed; color:white; border:none; padding:10px; border-radius:8px; cursor:pointer; width:100%; font-size:1rem;}
.book-btn:hover {background:#5b21b6;}
.modal {display:none; position:fixed; z-index:1000; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center;}
.modal-content {background:white; padding:20px; border-radius:12px; width:90%; max-width:400px; position:relative;}
.modal-content h2 {margin-top:0; color:#4c1d95;}
.modal-content input, .modal-content select {width:100%; padding:10px; margin:8px 0; border-radius:8px; border:1px solid #ccc; font-size:1rem;}
.modal-content button {margin-top:10px;}
.close {position:absolute; top:10px; right:15px; font-size:1.5rem; cursor:pointer; color:#555;}
@media (max-width:600px){header h1{font-size:1.5rem;} .service-info p{font-size:0.85rem;}}
</style>
</head>
<body>

<header>
<h1>Itismita Spa</h1>
<p>Relax • Rejuvenate • Refresh</p>
</header>

<section class="services" id="services"></section>

<!-- Booking Modal -->
<div id="bookingModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeBooking()">&times;</span>
    <h2>Book Your Therapy</h2>
    <form id="bookingForm">
      <input type="text" id="name" placeholder="Your Name" required>
      <input type="tel" id="phone" placeholder="WhatsApp Number" required>
      <input type="text" id="service" readonly>
      <input type="hidden" id="price">
      <label for="date">Select Date</label>
      <select id="date" required></select>
      <label for="time">Select Time</label>
      <select id="time" required></select>
      <button type="submit" class="book-btn">Confirm Booking</button>
    </form>
  </div>
</div>

<script>
// SPA services data
const services = [
  {name:"Head to Toe Pain Relief", desc:"Deep tissue + foot + head massage (high pressure)", duration:"90 mins", price:"1799", img:"images/head_toe_massage.png"},
  {name:"Swedish Relief Massage", desc:"Full body massage (medium pressure)", duration:"60 mins", price:"1399", img:"images/swedish_massage.png"},
  {name:"Aroma Therapy Massage", desc:"Full body massage (light pressure)", duration:"60 mins", price:"1399", img:"images/aroma_massage.png"},
  {name:"Full Body Deep Tissue Massage", desc:"Full body massage (high pressure)", duration:"60 mins", price:"1499", img:"images/deep_tissue.png"},
  {name:"Full Back Massage", desc:"Full back massage (medium pressure)", duration:"60 mins", price:"1399", img:"images/back_massage.jpg"},
  {name:"Signature Therapy Head to Toe Massage", desc:"Full body + head + face massage (medium pressure)", duration:"90 mins", price:"1799", img:"images/signature.png"},
  {name:"Period Pamper Massage", desc:"Abdominal + lower back + calves + thigh massage", duration:"45 mins", price:"999", img:"images/period_pamper.png"},
  {name:"Full Body Scrub", desc:"Exfoliating full body scrub", duration:"60 mins", price:"1399", img:"images/scrub_massage.jpg"},
  {name:"Stretching with Full Body Massage", desc:"Stretching + full body massage", duration:"70 mins", price:"1599", img:"images/stretching.png"},
  {name:"Foot Reflexology Massage", desc:"Foot reflexology massage", duration:"60 mins", price:"1399", img:"images/foot_massage.jpg"}
];

// Render services
const container = document.getElementById("services");
services.forEach(s => {
  const card = document.createElement("div");
  card.className = "service-card";
  card.innerHTML = `
    <img src="${s.img}" alt="${s.name}">
    <div class="service-info">
      <h3>${s.name}</h3>
      <p>${s.desc}</p>
      <p>⏱️ ${s.duration}</p>
      <p class="price">₹${s.price}</p>
      <button class="book-btn" onclick="openBooking('${s.name}','${s.price}')">Book Now</button>
    </div>`;
  container.appendChild(card);
});

// Booking modal
const modal = document.getElementById('bookingModal');
const serviceInput = document.getElementById('service');
const priceInput = document.getElementById('price');
const dateSelect = document.getElementById('date');
const timeSelect = document.getElementById('time');

function openBooking(service, price){
  modal.style.display = 'flex';
  serviceInput.value = service;
  priceInput.value = price;
  populateDates();
  populateTimes();
}

function closeBooking(){
  modal.style.display = 'none';
}

// Close modal on outside click
window.onclick = function(event){
  if(event.target == modal) modal.style.display = "none";
}

// Booking form submission
document.getElementById('bookingForm').addEventListener('submit', function(e){
  e.preventDefault();
  let name = document.getElementById('name').value;
  let phone = document.getElementById('phone').value;
  let service = serviceInput.value;
  let price = priceInput.value;
  let date = dateSelect.value;
  let time = timeSelect.value;
  let msg = `Hello, I am ${name}. I want to book *${service}* on ${date} at ${time}. Price: ₹${price}`;
  window.open(`https://wa.me/918971403978?text=${encodeURIComponent(msg)}`, '_blank');
});

// Populate date dropdown (today onwards, 1 year)
function populateDates() {
  dateSelect.innerHTML = '';
  const today = new Date();
  for (let i = 0; i < 365; i++) {
    let dt = new Date(today);
    dt.setDate(today.getDate() + i);
    const option = document.createElement("option");
    option.value = dt.toISOString().slice(0,10);
    option.text = dt.toDateString();
    dateSelect.appendChild(option);
  }
}

// Populate time dropdown (09:00 – 18:00 in 15-min intervals)
function populateTimes() {
  timeSelect.innerHTML = "";
  const today = new Date();
  const selectedDate = new Date(dateSelect.value);
  for (let h = 9; h <= 18; h++) {
    for (let m = 0; m < 60; m += 15) {
      if(h === 18 && m > 0) continue;
      const option = document.createElement("option");
      const hourStr = h.toString().padStart(2,'0');
      const minStr = m.toString().padStart(2,'0');
      option.value = `${hourStr}:${minStr}`;
      let ampm = h < 12 ? "AM" : "PM";
      let displayHour = h % 12 === 0 ? 12 : h % 12;
      option.text = `${displayHour}:${minStr} ${ampm}`;
      // Disable past times if booking for today
      if(selectedDate.toDateString() === today.toDateString()) {
        const now = new Date();
        if(h < now.getHours() || (h === now.getHours() && m < now.getMinutes())) option.disabled = true;
      }
      timeSelect.appendChild(option);
    }
  }
}

// Update times if date changes
dateSelect.addEventListener("change", populateTimes);
</script>

</body>
</html>
